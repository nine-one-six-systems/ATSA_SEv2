# Requirements Archive: v1.0 Dual-Filer MFJ/MFS Support

**Archived:** 2026-02-04
**Status:** SHIPPED

This is the archived requirements specification for v1.0.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

## v1 -- Core Dual-Filer (This Milestone)

### Calculation Engine

| ID | Requirement | Priority | Status |
|----|------------|----------|--------|
| REQ-01 | **Joint tax calculation (MFJ)**: Calculate combined income through MFJ brackets | Must | [x] Complete |
| REQ-02 | **Separate tax calculation (MFS)**: Calculate each spouse through MFS brackets | Must | [x] Complete |
| REQ-03 | **MFJ vs MFS comparison**: Three-column comparison with dollar difference | Must | [x] Complete |
| REQ-04 | **Income source attribution (T/S/J)**: Tag income sources for MFS accuracy | Must | [x] Complete |
| REQ-05 | **Credit availability by filing status**: Enforce MFS credit restrictions | Must | [x] Complete |
| REQ-06 | **QBI threshold by filing status**: MFS uses $191,950 threshold | Must | [x] Complete |
| REQ-07 | **Standard deduction amounts**: MFJ $32,200, MFS $16,100 for 2026 | Must | [x] Complete |
| REQ-08 | **Bidirectional cache invalidation**: Spouse change invalidates joint analysis | Must | [x] Complete |

### MFS Compliance

| ID | Requirement | Priority | Status |
|----|------------|----------|--------|
| REQ-09 | **Deduction method enforcement**: Both spouses must match on MFS | Must | [x] Complete |
| REQ-10 | **SALT cap by status**: MFS $20,000 per spouse for 2026 | Must | [x] Complete |
| REQ-11 | **Shared expense allocation**: Mortgage/property tax attribution | Should | [x] Complete |

### Infrastructure

| ID | Requirement | Priority | Status |
|----|------------|----------|--------|
| REQ-12 | **SQLite WAL mode**: Prevent "database locked" errors | Must | [x] Complete |
| REQ-13 | **JointAnalysisSummary model**: Store joint analysis results | Must | [x] Complete |
| REQ-14 | **JointAnalysisService**: Service orchestrating dual analysis | Must | [x] Complete |
| REQ-15 | **Joint analysis API endpoints**: Blueprint with routes | Must | [x] Complete |

### Split-Screen UI

| ID | Requirement | Priority | Status |
|----|------------|----------|--------|
| REQ-16 | **Split-screen layout**: Husband left, wife right panels | Must | [x] Complete |
| REQ-17 | **Resizable split panes**: Split.js integration | Should | [x] Complete |
| REQ-18 | **Joint comparison section**: MFJ vs MFS cards with recommendation | Must | [x] Complete |
| REQ-19 | **Income source breakdown**: At-a-glance per spouse | Should | [x] Complete |
| REQ-20 | **Filing status comparison report**: Three-column line items | Must | [x] Complete |

### Strategies

| ID | Requirement | Priority | Status |
|----|------------|----------|--------|
| REQ-21 | **Per-spouse tax strategies**: Income-type-aware recommendations | Must | [x] Complete |
| REQ-22 | **Joint optimization strategies**: MFJ-only strategies | Must | [x] Complete |
| REQ-23 | **Strategy feasibility flags**: Warnings for MFS incompatibility | Should | [x] Complete |

### Workflow

| ID | Requirement | Priority | Status |
|----|------------|----------|--------|
| REQ-24 | **Spouse linking workflow**: Create + link + analyze flow | Must | [x] Complete |
| REQ-25 | **Document upload attribution**: Tag to Taxpayer vs Spouse | Should | [x] Complete |
| REQ-26 | **Dual data entry support**: Upload OR manual entry per spouse | Must | [x] Complete |

---

## Traceability

| Requirement | Phase | Final Status |
|-------------|-------|--------------|
| REQ-01 | Phase 1 | Complete |
| REQ-02 | Phase 1 | Complete |
| REQ-03 | Phase 1 | Complete |
| REQ-04 | Phase 1 | Complete |
| REQ-05 | Phase 1 | Complete |
| REQ-06 | Phase 1 | Complete |
| REQ-07 | Phase 1 | Complete |
| REQ-08 | Phase 1 | Complete |
| REQ-09 | Phase 2 | Complete |
| REQ-10 | Phase 2 | Complete |
| REQ-11 | Phase 2 | Complete |
| REQ-12 | Phase 1 | Complete |
| REQ-13 | Phase 1 | Complete |
| REQ-14 | Phase 1 | Complete |
| REQ-15 | Phase 1 | Complete |
| REQ-16 | Phase 3 | Complete |
| REQ-17 | Phase 3 | Complete |
| REQ-18 | Phase 3 | Complete |
| REQ-19 | Phase 3 | Complete |
| REQ-20 | Phase 3 | Complete |
| REQ-21 | Phase 4 | Complete |
| REQ-22 | Phase 4 | Complete |
| REQ-23 | Phase 4 | Complete |
| REQ-24 | Phase 4 | Complete |
| REQ-25 | Phase 4 | Complete |
| REQ-26 | Phase 4 | Complete |

---

## Milestone Summary

**Shipped:** 26 of 26 v1 requirements
**Adjusted:** None
**Dropped:** None

---

*Archived: 2026-02-04 as part of v1.0 milestone completion*
